<!DOCTYPE html>
<html lang="en" dir="ltr">
  <head>
    <meta charset="utf-8">
    <link rel="icon" type="image/png" href="/favicon.png">
    <title>Beerio Party Soundboard</title>
    <style media="screen">
      #board {
        display: flex;
        gap: 20px;
        flex-wrap: wrap;
        align-items: center;
        justify-content: space-evenly;
      }

      img {
        max-width: 20%;
        height: auto;
        transition: 0.1s;
      }

      .playing {
        -webkit-filter: drop-shadow(0px 0px 5px #222222);
        filter: drop-shadow(0px 0px 5px #222222);
      }
    </style>
  </head>
  <body>
    <div id="board"></div>
    <script type="text/javascript">
      const sounds = {
        bowser: {
          sound: new Audio('/sounds/bowser.mp3'),
          image: 'bowser.png'
        },
        coin: {
          sound: new Audio('/sounds/coin.mp3'),
          image: 'coin.png'
        },
        star: {
          sound: new Audio('/sounds/star.mp3'),
          image: 'star.png'
        },
        ohno: {
          sound: new Audio('/sounds/ohno.mp3'),
          image: 'ohno.png'
        },
        wah: {
          sound: new Audio('/sounds/wah.mp3'),
          image: 'wah.png'
        },
        lightapplause: {
          sound: new Audio('/sounds/lightapplause.mp3'),
          image: 'lightapplause.png'
        },
      };

      function playSound(name) {
        const image = document.querySelector(`#${name}-img`);
        const { sound } = sounds[name];
        image.classList.add('playing')
        sound.onended = () => image.classList.remove('playing');
        sound.play();
      }

      board.innerHTML = Object.entries(sounds)
        .map(([name, { sound, image }]) => `<img id="${name}-img" src="/images/${image}" onclick="playSound('${name}')">`)
        .join('\n');
    </script>
  </body>
</html>
